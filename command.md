# 💻 ドットインストール UNIXコマンド入門
### UNIX互換OSで使える、基本的なコマンドを学んでいきます。

<details><summary>#01 UNIXコマンドの学習をしていこう</summary>

UNIX は Windows や macOS と同じく OS の一種で、インターネットを構成するサーバー用によく使われます。

また UNIX ですが、一時期オープンソースで配布されたこともあって、 無料の互換 OS がたくさん登場して広まったという経緯があります。広まった互換 OS には BSD や Minux など他にもたくさんあるのですが、特に広く使われているのが Linux です。

この Linux ですが、独自の設定や構成で配布している企業や団体がたくさんあって、その配布形式のことをディストリビューション (Distribution) と呼びます。

有名なディストリビューションにはいくつかあって、代表的なのは Red Hat Enterprise Linux 、 CentOS 、 Debian 、 Ubuntu そして今回使っていく Alpine など、他にもたくさんあります。

これらは微妙に異なる OS ではあるのですが、基本的なコマンドは POSIX という規格で統一されているので、このレッスンではそうした標準的なコマンドについて見ていきましょう。

ちなみに macOS も UNIX を源流に持つ OS なので、今回学習していくコマンドは macOS のターミナルでも使うことができます。

それから Windows や macOS のようにマウスで操るようなインターフェースを GUI (Graphical User Interface) 、コマンドだけで操るインターフェースを CUI (Character-based User Interface) というのですが、こちらの GUI のほうが分かりやすいのに、なぜわざわざ CUI を覚えなくてはいけないのかと思うかもしれません。

その理由は CUI のほうが効率的に作業ができるのと、自動化がしやすいからです。

たとえば GUI でフォルダを 100 個作らないといけないとなったときに、右クリックして New Folder として ... という作業を 100 回繰り返さないといけないのですが、 CUI だとコマンド一行で済んでしまいます。また、別の日に同じ作業をしなくてはいけなくなったとき、 CUI だとこのコマンドをスクリプトにしておいて実行するだけ OK ですし、 100 個のフォルダではなくて 300 個だったとしても、ここだけを変更すれば OK になります。

効率的に開発を進めるためにもコマンドを使った操作には慣れておくといいので、このレッスンで学習していきましょう。
### 要点
- UNIX：Windows や macOS と同じく OS の一種。
- Linux：UNIXとの互換OS。Linuxの他にもBSDやMinuxなどがある。
- GUI,CUI：マウスで操るようなインターフェースをGUI(Graphical User Interface)、コマンドだけで操るインターフェースをCUI(Character-based User Interface)という。
- Distribution(ディストリビューション)：配布形式の名称。</details>


<details><summary>#02 シェルコマンドを打ち込んでみよう</summary>

今回ですが、動画の横に Linux の実行環境を用意しておきました。また、コマンドを受け付けるための特殊なシェルというプログラムが稼働している状況です。

マシンに設定された日時を知るにはdateとしてあげます。

```bash
dotinstall:~ $ date
Mon Jul 25 15:57:11 JST 2022
```

それから UNIX では大文字、小文字が厳密に区別されます。したがって、Date としてもうまくいきませんので注意しましょう。

```bash
dotinstall:~ $ Date
bash: Date: command not found # 「commandは見つかりませんでした」と表示される
```

次に今月のカレンダーを表示する cal というコマンドも使ってみましょう。

```bash
dotinstall:~ $ cal
     July 2022
Su Mo Tu We Th Fr Sa
                1  2
 3  4  5  6  7  8  9
10 11 12 13 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30
31
```

稼働しているシェルですが、矢印キーの上下でコマンドの履歴をさかのぼることができます。

コマンドが打たれた状態でエンターキーとするとこのコマンドを実行しますが、そうではなくて、やっぱり次のコマンドを打ちたいという場合、 Control キーを押しながらCキーを押せばこのコマンドを実行せずに新しいプロンプトに移ることができます。

```bash
dotinstall:~ $ cal^C
```

途中まで打ったコマンドをクリアしたい場合、 Control キーを押しながらUキーを押せばクリアすることができます。

画面全体をいったんクリアしたいという場合は clear エンターキーとするか、 Control キーを押しながらLキーでも OK です。
### 要点
- シェル：コマンドを受け付けるためのプログラム。
- プロンプト：入力待ちになっている箇所に表示されている初めの部分。今回の環境では、ログインユーザー名、コロン、$マークが表示されている。
- date：マシンに設定された日時を表示する。
- cal：今月のカレンダーを表示する。
- 上矢印キー、下矢印キー：コマンドの履歴を遡ったり、戻ることができる。
- Ctrl + U：途中まで打ったコマンドをクリア。
- Ctrl + C：コマンドを実行せずに新しいプロンプトに移る。
- Ctrl + L：画面全体をクリアする。</details>


<details><summary>#03 ディレクトリ構成を理解しておこう</summary>

大元となるディレクトリは / で表すのですが、 root ディレクトリと呼ばれています。

ディレクトリの下にあるディレクトリをサブディレクトリと呼びます。

サブディレクトリはどれもシステムを動かすのに必要なものですが、よく使うのは etc,home,var あたりです。

etc は各種設定ファイルを格納する場所(設定ファイル)、 home はユーザーが好きに使える場所(ユーザーのhomeディレクトリ)、そして var はアプリケーションが管理するデータを格納する場所(データファイル等、Web,DB,LOG)で、ウェブサイトやデータベースのデータ、 LOG ファイルなどを格納するのに使います。

なお、 home ディレクトリにはユーザーごとにサブディレクトリを作ることができて、今回は dotinstall ユーザー用のディレクトリが設定されています。また、 dotinstall ユーザーでログインした場合、ログイン直後はこのディレクトリにいるので、ここを dotinstall ユーザーの home ディレクトリと呼びます。

他にも bin(実行ファイル) や sbin(管理者用の実行ファイル) にはコマンド用の実行ファイルが入っていたり、 tmp(一時ファイル用) は一時ファイルを格納する場所ですが、このあたりは最初いじることはないので、興味があれば追々調べていけば良いでしょう。

ディレクトリをコマンドの中で表現する場合、ふたつの方法があります。

ひとつが絶対 PATH という書き方で、ルートディレクトリである / から始めます。

たとえば etc だったら /etc 、home内のdotinstallであればディレクトリの区切りは / になるので /home/dotinstall といった表現ですね。

なお、現在ログインしているユーザーの home ディレクトリはよく使われるので、特殊な PATH が用意されています。 ~ (チルダ) という記号で表すのでこの点にも注意しておいてください。

次に相対PATHは、今どこにいるかによって表現が異なります。

たとえば、今この dotinstall ディレクトリにいた場合、現在のディレクトリは . で示します。そして、ひとつ上のディレクトリは .. で表現します。root ディレクトリはさらにそのひとつ上なので、 ../.. となります。

コマンドによる操作ではディレクトリ間を移動したり、ディレクトリを指定して特定の操作をするので、どちらの方法も使いこなせるようになっておきましょう。
### 質問：ディレクトリはファイルのことですか？
回答：ファイルやディレクトリを入れる箱のようなものです。

ディレクトリとはファイルをいれる入れ物のような物とお考えいただけると良いかなと思います。

もちろんディレクトリの中にはファイルだけでなくディレクトリもいれることができます。
### 要点
- ディレクトリ構成：ディレクトリはフォルダと同じ。CUIではディレクトリと表現されることが多い。
- 絶対PATH：ディレクトリをコマンドの中で表現する方法。ルートディレクトリである/から始める。
- ~(チルダ)：ユーザーのhomeディレクトリを表す記号。
- 相対PATH：ディレクトリをコマンドの中で表現する方法。ホームディレクトリである.から始める。</details>


<details><summary>#04 絶対PATHでディレクトリを移動しよう</summary>

シェル内でディレクトリの移動をしてみましょう。

ちなみにこちらのプロンプトには現在の位置が表示されていると説明しましたが、ログイン直後はユーザーの home ディレクトリなので、前回見たように ~ で表現されているのが分かります。

また、今いるディレクトリを表示するコマンドもあって、 pwd (print working directory) としてあげます。

```bash
dotinstall:~ $ pwd # ~はhomeディレクトリを指す
/home/dotinstall # rootディレクトリの中のhomeディレクトリの中のdotinstallディレクトリにいる
```

root ディレクトリの中の home ディレクトリの中の dotinstall ディレクトリにいるのが分かります。

先ずは、絶対パスで移動してみましょう。移動するにはcd(change directory)コマンドを使います。ルートディレクトリは/なので移動するにはcd /とします。

```bash
dotinstall:~ $ cd / # cdコマンドで、ルートディレクトリに移動(ルートディレクトリは/で表示)
dotinstall:/ $ # プロンプトが/に変わっている
dotinstall:/ $ pwd # pwdコマンドで現在いる場所を表示させる
/ # 今いる場所は/(ルートディレクトリ)だとわかる
```

次はetcディレクトリに移動します。

絶対パスで cd /etc とすればいいのですが、この環境で使っているシェルではタブによる補完が効くので /et としたあとにタブキーを押すと補完してくれます。

なお、ディレクトリの補完をすると、最後に / が付きますが、そのあとに何も書く必要がないときはつけてもつけなくても構いません。

```bash
dotinstall:/ $ cd /etc/
dotinstall:/etc $ # プロンプトが/etcに変わり、移動できていることを確認できる
```

次にhomeディレクトリに戻ってみましょう。

タブキーの補完を使いながら、 cd /ho タブ、 do タブ、とすると補完ができます。

ただ、ディレクトリに戻るには cd ~ としても OK ですし、実は home ディレクトリに戻る操作はよく行うので、 cd とするだけでも OK です。

```bash
dotinstall:/etc $ cd
dotinstall:~ $
```

それから補完の対象が複数ある場合、タブキーを二回押すことで一覧を見ることができます。

例えばroot ディレクトリ直下のどこかに移動したいと思った場合、 cd/ としたあとにタブを一回押しても複数候補があるので何も表示されませんが、もう一度押すと、こうですね、このように一覧で教えてくれます。

```bash
dotinstall:~ $ cd / # tabを2回押すと候補を一覧で表示してくれる
.dockerenv         index.js           package-lock.json  srv/
bin/               lib/               package.json       sys/
command.js         media/             proc/              tmp/
dev/               mnt/               root/              usr/
etc/               node_modules/      run/               var/
home/              opt/               sbin/              verify.js
```

あとはこの一覧を見ながら、たとえば dev ディレクトリにいきたかったら、 d タブとすれば OK です。

このようにタブによる補完は便利なので、使いこなせるようになっておきましょう。

```bash
# 処理を実行したくないときは control + C で中断する
dotinstall:~ $ cd /dev/^C
```

### 質問：cdの後にスペースが必要ですか？
回答：スペースはコマンドのオプションを区切るために使われます。

UNIXコマンドにおいて半角スペースは、コマンドとそのオプション（引数）との「区切り文字」としての意味を持っています。

コンピューターは人間のように柔軟に理解はしてくれないので、コマンドの後には必ず半角スペースを入れ、オプションと区別しなければならないのです。

> 具体的には、cd/etc/　や　cd / etc / とするとうまくいきませんが、 cd /etc/ と言うように、cdの後にだけスペースを入れるときちんと移動します。
> 

こちらの例で説明しますと、もし `cd/etc/` と書くと、コンピューターは「`cd/etc/` というコマンドだ」と理解してしまいます。当然そのようなコマンドはないため正しく動作しません。

また、`cd / etc /` と書くと、コンピューターは「`/` と `etc` と `/` のどこに移動するのか分からない」となり、エラーとなってしまいますね。
### 要点
- pwd：今いるディレクトリを表示する。
- cd：ディレクトリに移動する。
- TABキー補完：2回押すと候補を一覧で表示してくれる。</details>


<details><summary>#05 相対PATHでディレクトリを移動しよう</summary>

